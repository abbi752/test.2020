---
layout: post
title: 舆情分析 - snownlp实战Zenbo评论分析
date: 2017-12-19
excerpt: "舆情分析 - snownlp实战Zenbo评论分析"
categories: AI
tags: [AI]
comments: true
---


# 环境

python 2.7 + pycharm, windows 环境

python已经抓取了评论数据

# 情感分析

思路，先将每句话分句，然后对每个短句做情感分析。因为评论有些会很长，如果整句做分析，识别率会降低。

Code：

    # -*- coding: utf-8 -*-
    """
    SnowNLP for zenbo comments
    """
    
    from snownlp import SnowNLP
    import sys
    reload(sys)
    sys.setdefaultencoding('utf-8')
    
    def main():
        list = [u'昨天收到还在研究 腾讯微小云竟然还没上架 也是醉了',
                u'做工精细，还是比较符合我的期望，就是知道台湾才卖599美金，再次感受被歧视啦',
                u'很好的机器人功能很多.',
                u'很好的，家里小孩很喜欢，赞一个新科技产品',
                u'不错哟，功能很多，喜欢',
                u'新产品值得尝试，抱着一颗容错的心吧',
                u'充电的时候怎么自己就开机了，不用我开电源，是不是激活了',
                u'终于到货了，机器人比较萌，按说明书配置时发现但广告重点的腾讯云小微AI敢情还没上线，等于订购的是一个纯华硕产品。而在之前的腾讯推广和厂商京东官网事先均没有任何提示，等于预售了一个半成品，客服说月底上线，按时间算，万一等月底上线测试不满意客观上造成七天无理由退货条件就不能符合了。测了下华硕原生部分，单从语音识别和简单AI看，糟点还挺多，先耐心等待，让小朋友来进行自主测试吧。',
                u'很不错的机器人！',
                u'产品严重跟宣传不符 1.系统反应缓慢，经常语音识别错误；\
                2.产品避障功能很差，智能跟随居然会卡在床角或者沙发角，讲故事的时候小朋友离得太近机器人撞到小朋友不会躲避，我女儿都被吓哭了；\
                3.宣传的老人监护功能说是台湾版本才有，还要搭配华硕的手表才有用，而且要手动按键才有用，演示的时候说有人晕倒就会自动报警，如果要手动何必要这个机器人？\
                4.可以播放的故事很少，要播视频还要安装小微，小微还是个不全面的版本，无语！\
                5.产品是硬塑料做的，链接处和机器人脖子的地方有很多锋利的毛刺，摄像头拍照不清晰，连和面板的位置都对不准，完全怀疑是个半程品的工程样机！\
                缺点很多，总之这次对华硕的产品很失望！',
                u'好大一只！',
                u'给母亲买的，希望关键时刻，小布可以给独居的老人可以和我们儿女联系上，所以大家都很期待，今天货一到，我立马送去母亲家安装。特把体验发给大家分享：外形和尺寸感觉不错，语音识别度不高，自己找不到回去充电的路径，拍五下后求救功能竟然没用，机器人显示求救信号发出，我手机没有收到任何信号，感觉非常失望',
                u'外观很漂亮，京东配送也很好。只是小布语音识别率太低了，而且孩子学习，游戏内容太少，一句话感觉是买了个初级产品。已退货。',
                u'用了一段时间了，说说感受，因为无法在购买之前在实体店体验，对他的认知只能通过网上的宣传视频获取，所以起初对这款机器人的期望值过高，而在使用过程中逐渐发现不足，首先，机器人的“听觉”不灵敏，好多时候在屋内安静的情况下还需要反复几次的呼唤指令，得到确认后才能进行下一步的操作，语音指令不能修改，总是需要反复的“嗨小布”或“嗨zenbo”，几次过后自己都嫌烦，智能程度相当有限，只能通过指定的口令进行操作，换了其中某个字都无法执行，配套的功能还有待大幅度的完善，现在能与孩子互动的故事只有三个，而能玩的游戏也不过四五个，再加之其智能程度的缺陷，现在家里基本算是摆设，没办法，既然买了，只能期待未来能有更多的功能给予增加和完善吧',
                u'奔着AI人工智能去买的，不够智能，熟悉环境能力差，还要人手工标注，好了以后，进房间后，怎么都出不去，直接在那里面壁思过，不动了，叫他做别的事情，他居然还说正在任务，不执行，坑，比计算机还烂，计算机还多线程处理，多任务处理，就是一个会跑的玩具，不值！',
                u'非常不好使，搞了半天没搞出名堂，打电话没人来指导，不如一千块的智能机器人！',
                u'相信华硕的品牌，结果很失望，超级难用，纯粹还是个半成品，就玩具的水准，希望后续能升级改进，',
                u'昨天收到还在研究 腾讯微小云竟然还没上架 也是醉了',
                u'很好的机器人功能很多.',
                u'不错哟，功能很多，喜欢']
        pos = 1;
        for each in list:
            s = SnowNLP(each)
            sens = s.sentences
            print("----- " + str(pos))
            for sentence in sens:
                print("** " + sentence)
                s2 = SnowNLP(sentence)
                print( "情感词性为正的概率: " + str(s2.sentiments) + "\r\n")
            pos = pos + 1
    
    if __name__ == '__main__':
        main()

输出结果：

    ----- 1
    ** 昨天收到还在研究 腾讯微小云竟然还没上架 也是醉了
    情感词性为正的概率: 0.187974944249
    
    ----- 2
    ** 做工精细
    情感词性为正的概率: 0.964702989744
    
    ** 还是比较符合我的期望
    情感词性为正的概率: 0.421874184535
    
    ** 就是知道台湾才卖599美金
    情感词性为正的概率: 0.981010924358
    
    ** 再次感受被歧视啦
    情感词性为正的概率: 0.48344070147
    
    ----- 3
    ** 很好的机器人功能很多.
    情感词性为正的概率: 0.937274275583
    
    ----- 4
    ** 很好的
    情感词性为正的概率: 0.778637445267
    
    ** 家里小孩很喜欢
    情感词性为正的概率: 0.916894572818
    
    ** 赞一个新科技产品
    情感词性为正的概率: 0.980180647403
    
    ----- 5
    ** 不错哟
    情感词性为正的概率: 0.861519607843
    
    ** 功能很多
    情感词性为正的概率: 0.839826047345
    
    ** 喜欢
    情感词性为正的概率: 0.698043184885
    
    ----- 6
    ** 新产品值得尝试
    情感词性为正的概率: 0.897589714131
    
    ** 抱着一颗容错的心吧
    情感词性为正的概率: 0.878459849966
    
    ----- 7
    ** 充电的时候怎么自己就开机了
    情感词性为正的概率: 0.20447353124
    
    ** 不用我开电源
    情感词性为正的概率: 0.256078352985
    
    ** 是不是激活了
    情感词性为正的概率: 0.261593072763
    
    ----- 8
    ** 终于到货了
    情感词性为正的概率: 0.518290675734
    
    ** 机器人比较萌
    情感词性为正的概率: 0.759058763169
    
    ** 按说明书配置时发现但广告重点的腾讯云小微AI敢情还没上线
    情感词性为正的概率: 0.659650513298
    
    ** 等于订购的是一个纯华硕产品
    情感词性为正的概率: 0.416299551274
    
    ** 而在之前的腾讯推广和厂商京东官网事先均没有任何提示
    情感词性为正的概率: 0.0287118404658
    
    ** 等于预售了一个半成品
    情感词性为正的概率: 0.0719724821311
    
    ** 客服说月底上线
    情感词性为正的概率: 0.022113265448
    
    ** 按时间算
    情感词性为正的概率: 0.587797157042
    
    ** 万一等月底上线测试不满意客观上造成七天无理由退货条件就不能符合了
    情感词性为正的概率: 0.0052479368543
    
    ** 测了下华硕原生部分
    情感词性为正的概率: 0.705926935417
    
    ** 单从语音识别和简单AI看
    情感词性为正的概率: 0.610011986602
    
    ** 糟点还挺多
    情感词性为正的概率: 0.755808137665
    
    ** 先耐心等待
    情感词性为正的概率: 0.574086194065
    
    ** 让小朋友来进行自主测试吧
    情感词性为正的概率: 0.933655574206
    
    ----- 9
    ** 很不错的机器人
    情感词性为正的概率: 0.911762490324
    
    ----- 10
    ** 产品严重跟宣传不符 1.系统反应缓慢
    情感词性为正的概率: 0.0226630532354
    
    ** 经常语音识别错误
    情感词性为正的概率: 0.587702212024
    
    ** 2.产品避障功能很差
    情感词性为正的概率: 0.310996921999
    
    ** 智能跟随居然会卡在床角或者沙发角
    情感词性为正的概率: 0.441072349453
    
    ** 讲故事的时候小朋友离得太近机器人撞到小朋友不会躲避
    情感词性为正的概率: 0.977089857469
    
    ** 我女儿都被吓哭了
    情感词性为正的概率: 0.897638406035
    
    ** 3.宣传的老人监护功能说是台湾版本才有
    情感词性为正的概率: 0.524999503317
    
    ** 还要搭配华硕的手表才有用
    情感词性为正的概率: 0.0671161460286
    
    ** 而且要手动按键才有用
    情感词性为正的概率: 0.171277452698
    
    ** 演示的时候说有人晕倒就会自动报警
    情感词性为正的概率: 0.0147276406994
    
    ** 如果要手动何必要这个机器人
    情感词性为正的概率: 0.322763226408
    
    ** 4.可以播放的故事很少
    情感词性为正的概率: 0.78364409691
    
    ** 要播视频还要安装小微
    情感词性为正的概率: 0.375978501338
    
    ** 小微还是个不全面的版本
    情感词性为正的概率: 0.685647994563
    
    ** 无语
    情感词性为正的概率: 0.364107301129
    
    ** 5.产品是硬塑料做的
    情感词性为正的概率: 0.0748379729647
    
    ** 链接处和机器人脖子的地方有很多锋利的毛刺
    情感词性为正的概率: 0.624989403226
    
    ** 摄像头拍照不清晰
    情感词性为正的概率: 0.714883630007
    
    ** 连和面板的位置都对不准
    情感词性为正的概率: 0.566373838953
    
    ** 完全怀疑是个半程品的工程样机
    情感词性为正的概率: 0.206895809495
    
    ** 缺点很多
    情感词性为正的概率: 0.661043412027
    
    ** 总之这次对华硕的产品很失望
    情感词性为正的概率: 0.472289106801
    
    ----- 11
    ** 好大一只
    情感词性为正的概率: 0.592297471465
    
    ----- 12
    ** 给母亲买的
    情感词性为正的概率: 0.891154618531
    
    ** 希望关键时刻
    情感词性为正的概率: 0.78243848677
    
    ** 小布可以给独居的老人可以和我们儿女联系上
    情感词性为正的概率: 0.741515486521
    
    ** 所以大家都很期待
    情感词性为正的概率: 0.8188973353
    
    ** 今天货一到
    情感词性为正的概率: 0.352525252525
    
    ** 我立马送去母亲家安装
    情感词性为正的概率: 0.528516977589
    
    ** 特把体验发给大家分享：外形和尺寸感觉不错
    情感词性为正的概率: 0.993613535921
    
    ** 语音识别度不高
    情感词性为正的概率: 0.477761247876
    
    ** 自己找不到回去充电的路径
    情感词性为正的概率: 0.0779890045608
    
    ** 拍五下后求救功能竟然没用
    情感词性为正的概率: 0.338759308472
    
    ** 机器人显示求救信号发出
    情感词性为正的概率: 0.111047151624
    
    ** 我手机没有收到任何信号
    情感词性为正的概率: 0.252127745614
    
    ** 感觉非常失望
    情感词性为正的概率: 0.165985349827
    
    ----- 13
    ** 外观很漂亮
    情感词性为正的概率: 0.992317477595
    
    ** 京东配送也很好
    情感词性为正的概率: 0.732267012555
    
    ** 只是小布语音识别率太低了
    情感词性为正的概率: 0.164669302396
    
    ** 而且孩子学习
    情感词性为正的概率: 0.937989901518
    
    ** 游戏内容太少
    情感词性为正的概率: 0.39168821257
    
    ** 一句话感觉是买了个初级产品
    情感词性为正的概率: 0.546322772896
    
    ** 已退货
    情感词性为正的概率: 0.0957972147762
    
    ----- 14
    ** 用了一段时间了
    情感词性为正的概率: 0.71055722488
    
    ** 说说感受
    情感词性为正的概率: 0.717616580311
    
    ** 因为无法在购买之前在实体店体验
    情感词性为正的概率: 0.665721791972
    
    ** 对他的认知只能通过网上的宣传视频获取
    情感词性为正的概率: 0.271954315781
    
    ** 所以起初对这款机器人的期望值过高
    情感词性为正的概率: 0.948133400831
    
    ** 而在使用过程中逐渐发现不足
    情感词性为正的概率: 0.751229213985
    
    ** 首先
    情感词性为正的概率: 0.526284957465
    
    ** 机器人的“听觉”不灵敏
    情感词性为正的概率: 0.0991246137991
    
    ** 好多时候在屋内安静的情况下还需要反复几次的呼唤指令
    情感词性为正的概率: 0.81358935977
    
    ** 得到确认后才能进行下一步的操作
    情感词性为正的概率: 0.142182560129
    
    ** 语音指令不能修改
    情感词性为正的概率: 0.445681017067
    
    ** 总是需要反复的“嗨小布”或“嗨zenbo”
    情感词性为正的概率: 0.0287604930079
    
    ** 几次过后自己都嫌烦
    情感词性为正的概率: 0.349114695913
    
    ** 智能程度相当有限
    情感词性为正的概率: 0.593224861815
    
    ** 只能通过指定的口令进行操作
    情感词性为正的概率: 0.242771372511
    
    ** 换了其中某个字都无法执行
    情感词性为正的概率: 0.275627710401
    
    ** 配套的功能还有待大幅度的完善
    情感词性为正的概率: 0.454117022948
    
    ** 现在能与孩子互动的故事只有三个
    情感词性为正的概率: 0.935295451541
    
    ** 而能玩的游戏也不过四五个
    情感词性为正的概率: 0.575125501569
    
    ** 再加之其智能程度的缺陷
    情感词性为正的概率: 0.270431314047
    
    ** 现在家里基本算是摆设
    情感词性为正的概率: 0.680354690444
    
    ** 没办法
    情感词性为正的概率: 0.111815459495
    
    ** 既然买了
    情感词性为正的概率: 0.508899849882
    
    ** 只能期待未来能有更多的功能给予增加和完善吧
    情感词性为正的概率: 0.97826035617
    
    ----- 15
    ** 奔着AI人工智能去买的
    情感词性为正的概率: 0.668053416165
    
    ** 不够智能
    情感词性为正的概率: 0.545454545455
    
    ** 熟悉环境能力差
    情感词性为正的概率: 0.629568298598
    
    ** 还要人手工标注
    情感词性为正的概率: 0.207289109114
    
    ** 好了以后
    情感词性为正的概率: 0.655911843542
    
    ** 进房间后
    情感词性为正的概率: 0.205518108568
    
    ** 怎么都出不去
    情感词性为正的概率: 0.410207995348
    
    ** 直接在那里面壁思过
    情感词性为正的概率: 0.771228745788
    
    ** 不动了
    情感词性为正的概率: 0.30809853802
    
    ** 叫他做别的事情
    情感词性为正的概率: 0.615610520069
    
    ** 他居然还说正在任务
    情感词性为正的概率: 0.1658077489
    
    ** 不执行
    情感词性为正的概率: 0.39997217995
    
    ** 坑
    情感词性为正的概率: 0.0967741935484
    
    ** 比计算机还烂
    情感词性为正的概率: 0.705908027763
    
    ** 计算机还多线程处理
    情感词性为正的概率: 0.824212206726
    
    ** 多任务处理
    情感词性为正的概率: 0.526284957465
    
    ** 就是一个会跑的玩具
    情感词性为正的概率: 0.773534861997
    
    ** 不值
    情感词性为正的概率: 0.186440677966
    
    ----- 16
    ** 非常不好使
    情感词性为正的概率: 0.379577301506
    
    ** 搞了半天没搞出名堂
    情感词性为正的概率: 0.0150211378754
    
    ** 打电话没人来指导
    情感词性为正的概率: 0.246396162712
    
    ** 不如一千块的智能机器人
    情感词性为正的概率: 0.480352959119
    
    ----- 17
    ** 相信华硕的品牌
    情感词性为正的概率: 0.839572516899
    
    ** 结果很失望
    情感词性为正的概率: 0.251370998346
    
    ** 超级难用
    情感词性为正的概率: 0.443093669513
    
    ** 纯粹还是个半成品
    情感词性为正的概率: 0.159834867941
    
    ** 就玩具的水准
    情感词性为正的概率: 0.737702785892
    
    ** 希望后续能升级改进
    情感词性为正的概率: 0.788609598605
    
    ----- 18
    ** 昨天收到还在研究 腾讯微小云竟然还没上架 也是醉了
    情感词性为正的概率: 0.187974944249
    
    ----- 19
    ** 很好的机器人功能很多.
    情感词性为正的概率: 0.937274275583
    
    ----- 20
    ** 不错哟
    情感词性为正的概率: 0.861519607843
    
    ** 功能很多
    情感词性为正的概率: 0.839826047345
    
    ** 喜欢
    情感词性为正的概率: 0.698043184885
    
    
    Process finished with exit code 0

# 结果分析

个人建议若整句概率大于60%可以作为正面评价；若整句中有一个短句低于20%（可以视情况调整）可以作为负面评价；其他可算作中评。


# Reference

- [如何用Python做情感分析？](http://www.jianshu.com/p/d50a14541d01)